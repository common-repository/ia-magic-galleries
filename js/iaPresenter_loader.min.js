/*! ia-designer 09-10-2024 
Copyright Â© 2024 Information Aesthetics. All rights reserved.
This work is licensed under the GPL2, V2/ license.*/

var IA_Presenter_loader=function(t){var e=[["dist/mousetrap.min.js",function(){return window.hasOwnProperty("Mousetrap")}],["dist/simple-statistics.min.js",function(){return window.hasOwnProperty("ss")&&ss.hasOwnProperty("linearRegression")}],["dist/math.min.js",function(){return window.hasOwnProperty("math")&&math.hasOwnProperty("eval")}],["dist/minify.json.min.js",function(){return JSON.hasOwnProperty("minify")}]],r=[],i=!1,n={},o={},s=0;function a(t,e,r,n){if("object"==typeof r&&(n=r,r=""),r=r||"",n=n||{},e=e||"js",!n.load_condition||"function"!=typeof n.load_condition||n.load_condition())if(i)i.push([t,e,r,n]);else{if(i=[],t.pre_scripts&&(n.pre_scripts=t.pre_scripts,delete t.pre_scripts),t.post_scripts&&(n.post_scripts=t.post_scripts,delete t.post_scripts),n.load_only)return p(n,r,f.bind(void 0,n,r));p(n,r,function(){if("function"==typeof t)t(),f(n,r);else if("string"==typeof t)switch(e){case"js":jQuery.getScript(t).done(function(){f(n,r)}).fail(y);break;case"json":jQuery.get(t,function(){},"text").done(t=>{a(t),f(n,r)}).fail(y)}else"object"==typeof t&&t.panel_setting&&(a(t),f(n,r))})}function a(t){if((t="object"==typeof t?t:JSON.parse(JSON.minify(t))).html_tab_id)o[t.html_tab_id]||(e(t.html_tab_id,t),o[t.html_tab_id]=!0);else{let r=document.querySelector('iframe[name="editor-canvas"]'),i=r?r.contentDocument||r.contentWindow.document:null,n=jQuery(".IA_Designer_Container, .IA_Presenter_Container").toArray();if(i){let t=jQuery(i).find(".IA_Presenter_Container").toArray();n=n.concat(t),Snap_ia.setWindow(r.contentWindow)}if(!n.length)return;let a=0;n.forEach(function(r){let n;if(i&&i.contains(r)&&(n=i),r=Snap_ia(r),t.container_filter&&"function"==typeof t.container_filter&&!t.container_filter(r))return;t.pre_process_container&&"function"==typeof t.pre_process_container&&t.pre_process_container(r);let c=r.attr("id");if(c||(c="IA_Designer_Container_gui"+s++,r.attr("id",c)),!o[c]){const i=r.select("svg");let s;if(i){const e=i.node.outerHTML;t.initial_graphics={svg:e},e.remove()}else if(s=r.attr("presentation"))if(s.startsWith("base64:")){let e=LZString.decompressFromBase64(s.slice(7));e||(e=atob(s.slice(7))),t.initial_graphics={svg:e},r.attr("presentation","")}else s.startsWith("http")&&(t.initial_graphics=s);t.html_tab_id=c,setTimeout(e.bind(void 0,c,Object.assign({},t),n),a),a+=200,o[c]=!0}})}function e(t,e,r){let i;(i=e.initial_graphics)&&delete e.initial_graphics;var n=IA_Designer.createInterface(t,e,r);const o=(r=r||window.document).defaultView.getComputedStyle(r.body,null).getPropertyValue("background-color");n.div_container.setStyle({background:o}),i?"string"==typeof i?n.openGraphics(i,c):"object"==typeof i&&i.hasOwnProperty("svg")&&(n.loadGraphicsFromString(i.svg),c(n)):c(n)}}}var c=function(t){};function p(t,r,i){if(t.after_callback){let e=i;i=function(){e&&e(),t.after_callback()}}if(window.IA_Designer||!window.jQuery)return i&&i();var n=e;t.pre_scripts&&(Array.isArray(t.pre_scripts)||(t.pre_scripts=[t.pre_scripts]),n=[...t.pre_scripts,...n]);var o=function(t,e,r){const i=jQuery.Deferred();if(r){let r=!1;if(e&&"string"==typeof e){let n=localStorage.getItem(e);n&&(n=JSON.parse(n)).url===t&&n.data&&(u(n.data,i),r=!0)}!r&&jQuery.getJSON(t,function(r){e&&localStorage.setItem(e,JSON.stringify({url:t,data:r})),u(r,i)})}else jQuery.getScript(t).done(function(t,e){i.resolve()});return i.promise()},s=[];jQuery.ajaxSetup({cache:!0}),n.forEach(function(t){let e=!1;if(Array.isArray(t)){if("function"==typeof t[1]&&t[1]())return;t=t[0]}"string"==typeof t&&(t=t.startsWith("http")?t:r+t,s.push(o(t))),"object"==typeof t&&t.encrypted&&(e=t.cache||!1,t=(t=t.url).startsWith("http")?t:r+t,s.push(o(t,e,!0)))});var a=jQuery.when.apply($,s);i&&a.done(i)}function f(t,e){if("string"==typeof t&&(e=t,t={}),t.post_scripts&&("string"==typeof t.post_scripts&&(t.post_scripts=t.post_scripts.split(",")),r=r.concat(t.post_scripts)),t.crypto&&r.push("dist/ia_md5.min.js"),r.forEach(function(t){if("object"==typeof t&&(t.ES6||t.ES6)&&(t=supportsES6?t.ES6||"":t.ES5||""),t){if(Array.isArray(t)){if("function"==typeof t[1]&&t[1]())return;if("string"==typeof t[1]&&window.hasOwnProperty(t[1]))return;t=t[0]}t=e+t.trim(),n[t]||(n[t]=!0,jQuery.getScript(t,function(){}))}}),jQuery.ajaxSetup({cache:!1}),i.length){i.forEach(t=>{a.apply(void 0,t)})}i=void 0}let l="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqpRk0wpus5fExUALfiA8WISp3Q1hUHYbtakcojnwy8AYKld3SKITvPvbol4cY/Vz470kjUQZ+vKMMtGnFyQsb16SEkTye7N5c49Q/sW2Cu/eXqDflglL/sXX1SGAw6mlkJltwrNXwWNjcq5uKxOS+8pRT/ludBCKvcbXF71x477/vWqW+NL+B/Ae6ggmEARt7/AiPPOOTC4iPBSONYL27KObYr/uIcnMQDNEcS0FkFUtycuz1bMYjBBeJF4FRJjLcoo6xa0iO/9xomnmUX043WAxFtTVNx4ph6pMfwx1hqNKAYqkycHLvEBxfOIpeLI8Gsj3jzb5Sugf8y7WOqhcAwIDAQAB";async function u(t,e){if(!Array.isArray(t))return void e.reject();function r(t){const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let e=0,i=t.length;e<i;e++)r[e]=t.charCodeAt(e);return e}const i=r(atob(l)),n=await crypto.subtle.importKey("spki",i,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["verify"]);let o=await Promise.all(t.map(async(t,i)=>{let o=t.data,s=t.sign;if(!o||!s)return;if(await crypto.subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,r(atob(s)),r(o))){let t=LZString.decompressFromBase64(o);if(t||(t=atob(o)),t)return t}return e.reject(),Promise.reject()}));o&&(o=o.filter(Boolean)).length===t.length&&(o.forEach(t=>{Function('"use strict"; '+t)()}),e.resolve())}function y(t,e){}return a.loadLibrariesOnly=function(t){p({},t=t||"",function(){f(t)})},a}(window);